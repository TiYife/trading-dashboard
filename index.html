<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0f0f0f; color: #eee; font-family: sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .glass:hover { background: rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.3); }
    </style>
</head>
<body class="p-6 min-h-screen flex flex-col items-center">
    <div class="w-full max-w-md mb-8 text-center">
        <h1 class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500 mb-2">
            ä»ªè¡¨ç›˜æ§åˆ¶å°
        </h1>
        <p class="text-gray-500 text-sm">Select a dashboard to launch</p>
    </div>

    <div id="file-list" class="w-full max-w-md space-y-3">
        <!-- åˆ—è¡¨å°†åœ¨è¿™é‡Œç”Ÿæˆ -->
        <div class="text-center text-gray-500 animate-pulse">æ­£åœ¨æ‰«æä»“åº“æ–‡ä»¶...</div>
    </div>

    <script>
        // ğŸ”´ğŸ”´ğŸ”´ è¯·ä¿®æ”¹è¿™é‡Œ ğŸ”´ğŸ”´ğŸ”´
        const GITHUB_USERNAME = 'tiyife'; // ä½ çš„ GitHub ç”¨æˆ·å
        const REPO_NAME = 'trading-dashboard';   // ä½ çš„ä»“åº“å
        // ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´

        async function fetchFiles() {
            const listContainer = document.getElementById('file-list');
            const apiUrl = `https://api.github.com/repos/${GITHUB_USERNAME}/${REPO_NAME}/contents/`;

            try {
                const response = await fetch(apiUrl);
                if (!response.ok) throw new Error('GitHub API Limit or Network Error');
                
                const data = await response.json();
                
                // ç­›é€‰ HTML æ–‡ä»¶ï¼Œæ’é™¤ index.html è‡ªèº«
                const htmlFiles = data.filter(file => 
                    file.name.endsWith('.html') && 
                    file.name.toLowerCase() !== 'index.html' &&
                    file.name.toLowerCase() !== 'template.html' &&
                    file.name !== '404.html'
                );

                listContainer.innerHTML = ''; // æ¸…ç©ºåŠ è½½æç¤º

                if (htmlFiles.length === 0) {
                    listContainer.innerHTML = '<div class="text-center text-gray-500">æœªæ‰¾åˆ°å…¶ä»– HTML æ–‡ä»¶</div>';
                    return;
                }

                htmlFiles.forEach(file => {
                    // å»æ‰ .html åç¼€ä½œä¸ºæ˜¾ç¤ºåç§°
                    const displayName = file.name.replace('.html', '').toUpperCase();
                    
                    const card = document.createElement('a');
                    card.href = file.name;
                    card.className = 'glass block p-4 rounded-xl transition-all duration-300 flex justify-between items-center group';
                    card.innerHTML = `
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 rounded-full bg-blue-900/50 flex items-center justify-center text-blue-400">
                                ğŸ“Š
                            </div>
                            <div>
                                <div class="font-bold text-gray-200 group-hover:text-white">${displayName}</div>
                                <div class="text-xs text-gray-500">HTML Dashboard</div>
                            </div>
                        </div>
                        <div class="text-gray-600 group-hover:text-white transition-colors">â†’</div>
                    `;
                    listContainer.appendChild(card);
                });

            } catch (error) {
                console.error(error);
                listContainer.innerHTML = `
                    <div class="p-4 border border-red-900 bg-red-900/20 rounded text-red-400 text-sm text-center">
                        æ— æ³•è·å–æ–‡ä»¶åˆ—è¡¨ã€‚<br>è¯·æ£€æŸ¥ç”¨æˆ·å/ä»“åº“åé…ç½®ï¼Œ<br>æˆ–ç¨åå†è¯• (API é™åˆ¶)ã€‚
                    </div>
                `;
            }
        }

        fetchFiles();
    </script>
</body>
</html>